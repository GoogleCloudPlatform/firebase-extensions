This extension helps you identify unsecured API keys in your Firebase project by regularly scanning your project's API keys and sending notifications if any unrestricted keys are found.

Now that the extension is installed, follow these steps to complete the setup:

### Handle events from the extension
To receive notifications about unsecured API keys, set up an Eventarc function listener in your Firebase project to subscribe to the events generated by this extension. For a detailed guide on how to create an Eventarc trigger, refer to the Eventarc documentation.
To access these events, deploy a cloud function simuilar to the following:

```js
const { eventarc } = require("firebase-functions/v2");

exports.stripeproductcreatedv1 = eventarc.onCustomEventPublished(
  "`firebase.extensions.api-keys-diagnostic.unsecured`",
  async (ctx) => {
   /** Your code ***/
   const {type, subject, data} = ctx
  }
);
```

In your Eventarc function, you can now handle events generated by the API Keys Diagnostic Extension. The events will have the following structure:

```js
{
  "type": "firebase.extensions.api-keys-diagnostic.unsecured",
  "subject": "Unsecured API Keys Found",
  "data": {
    "message": "The following API keys have no restrictions:\n\nAPI_KEY_NAME_1\nAPI_KEY_NAME_2...",
    "keys": "[{\"name\":\"API_KEY_NAME_1\"},{\"name\":\"API_KEY_NAME_2\"},...]"
  }
}
```

Use this information to take appropriate actions, such as sending notifications or alerting your team.

3. Monitor the extension
Monitor the activity of your installed extension, including its health, usage, and logs by visiting the Firebase Extensions dashboard in the Firebase Console.

That's it! The API Keys Diagnostic Extension is now installed and configured to notify you of any unsecured API keys in your Firebase project.